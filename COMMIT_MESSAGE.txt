fix: booking flow issues and performance improvements

This commit fixes several critical issues in the booking flow:

1. Fixed stale closure issues in CarCard and CarCardModern components
2. Fixed PhoneModal race condition by ensuring profile refresh before proceeding
3. Improved draft restore logic in EnhancedBookingFlow to validate required fields
4. Fixed import path mismatches and ensured consistent @ alias usage
5. Added proper error handling and user messaging for server errors
6. Fixed React.memo custom compare function in CarCardModern
7. Refactored EnhancedBookingFlow into smaller components (DatesStep, PhoneStep, ExtrasStep, TermsStep, LicenseStep, PaymentStep, ConfirmationStep)
8. Added comprehensive unit and integration tests for booking flows
9. Removed debug logs and temporary debug snippets

The changes ensure:
- Book Now button works correctly pre-login and post-login
- Phone collection flow works properly with profile refresh
- All auth/profile/draft restore race conditions are removed
- Server errors are surfaced with detailed messages
- Code quality improvements with smaller, more maintainable components
- Lazy loading potential for performance improvements

Acceptance criteria:
- Book Now works pre-login (redirects and saves draft)
- Book Now works post-login (with phone -> open, without phone -> open phone step, resumes after save)
- No silent failures: errors surfaced with server message, not generic "failed to load"
- No console errors on booking flow
- Unit & integration tests added and passing
- No secrets (.env with service key) committed